---
# PLACEHOLDER - This file needs to be encrypted with SOPS after adding real values
# Run: sops --encrypt --in-place secret.sops.yaml
#
# To generate the kubeconfig values, run on the Karmada control plane (Ottawa):
#   kubectl -n karmada-system get secret karmada-kubeconfig -o jsonpath='{.data.kubeconfig}' | base64 -d
#
# Or use karmadactl to generate agent credentials:
#   karmadactl token create --ttl 0 --print-register-command
#
apiVersion: v1
kind: Secret
metadata:
  name: karmada-agent-kubeconfig
type: Opaque
stringData:
  kubeconfig.yaml: |
    agent:
      kubeconfig:
        # Karmada API server URL (via Tailscale)
        server: "https://karmada-apiserver.keiretsu.ts.net:5443"
        # CA certificate from Karmada
        caCrt: |
          -----BEGIN CERTIFICATE-----
          REPLACE_WITH_KARMADA_CA_CERTIFICATE
          -----END CERTIFICATE-----
        # Client certificate for this agent
        crt: |
          -----BEGIN CERTIFICATE-----
          REPLACE_WITH_AGENT_CLIENT_CERTIFICATE
          -----END CERTIFICATE-----
        # Client key for this agent
        key: |
          -----BEGIN RSA PRIVATE KEY-----
          REPLACE_WITH_AGENT_CLIENT_KEY
          -----END RSA PRIVATE KEY-----
