# Network and system optimizations via sysctls
machine:
  sysctls:
    # Network optimizations
    net.core.default_qdisc: fq
    net.core.rmem_max: "67108864"
    net.core.wmem_max: "67108864"
    net.ipv4.tcp_congestion_control: bbr
    net.ipv4.tcp_fastopen: "3"
    net.ipv4.tcp_mtu_probing: "1"
    net.ipv4.tcp_rmem: "4096 87380 33554432"
    net.ipv4.tcp_wmem: "4096 65536 33554432"
    net.ipv4.tcp_window_scaling: "1"

    # Filesystem watchers (for monitoring tools)
    fs.inotify.max_user_watches: "1048576"
    fs.inotify.max_user_instances: "8192"

    # Huge pages for GPU memory and databases
    vm.nr_hugepages: "2048"

