---
apiVersion: v1
kind: ConfigMap
metadata:
  name: aperture-config
  namespace: tailscale-system
data:
  config.yaml: |
    providers:
      upstream:
        baseurl: "http://ai.keiretsu.ts.net"
        tailnet: true
        name: "Upstream Aperture"
        description: "Proxied LLM providers via ai.keiretsu.ts.net"
        models:
          - claude-haiku-4-5
          - claude-haiku-4-5-20251001
          - claude-opus-4-1
          - claude-opus-4-5
          - claude-opus-4-5-20251101
          - claude-sonnet-4-5
          - claude-sonnet-4-5-20250929
          - gpt-4.1
          - gpt-4.1-mini
          - gpt-4.1-nano
          - gpt-4o-mini
          - gpt-5
          - gpt-5-codex
          - gpt-5-mini
          - gpt-5-nano
          - gpt-5.1-codex
          - gpt-5.1-codex-mini
          - deepseek/deepseek-chat-v3-0324
          - google/gemma-3-27b-it
          - meta-llama/llama-3.1-8b-instruct
          - minimax/minimax-m2
          - moonshotai/kimi-k2-thinking
          - openai/gpt-oss-120b
          - openai/gpt-oss-20b
          - qwen/qwen3-235b-a22b-2507
          - x-ai/grok-code-fast-1
          - z-ai/glm-4.6
        compatibility:
          openai_chat: true
          openai_responses: true
          anthropic_messages: true

    mcp_servers:
      - url: "http://userz-mcp.keiretsu.ts.net/mcp"
        tailnet: true
      - accept_incoming_registrations: true

    temp_grants:
      - src:
          - "rajsinghtech@github"
          - "kbpersonal@github"
          - "LukeHouge@github"
          - "abtars@gmail.com"
        grants:
          - role: "admin"

    database:
      save_raws: false
      keep_encrypted_blobs: false

